{"ast":null,"code":"class Node {\n  constructor(value) {\n    this.value = value;\n    this.prev = null;\n    this.next = null;\n  }\n\n}\n\nexport default class HistoryStack {\n  constructor(capacity) {\n    this.capacity = capacity;\n    this.size = 0;\n    this.head = new Node(null);\n    this.tail = new Node(null);\n    this.head.next = this.tail;\n    this.tail.prev = this.head;\n  }\n\n  push(value) {\n    if (this.size === this.capacity) {\n      this._removeFirst();\n    }\n\n    let node = new Node(value);\n    let last = this.tail.prev;\n    last.next = node;\n    node.prev = last;\n    node.next = this.tail;\n    this.tail.prev = node;\n    this.size += 1;\n  }\n\n  _removeFirst() {\n    let first = this.head.next;\n    this.head.next = first.next;\n    first.next.prev = this.head;\n    first = null;\n    this.size -= 1;\n  }\n\n  pop() {\n    if (this.size > 0) {\n      let last = this.tail.prev;\n      this.tail.prev = last.prev;\n      last.prev.next = this.tail;\n      this.size -= 1;\n      return last.value;\n    }\n\n    return null;\n  }\n\n  clear() {\n    this.head.next = this.tail;\n    this.tail.prev = this.head;\n    this.size = 0;\n  }\n\n}","map":{"version":3,"sources":["/Users/ryandi/Documents/projects/react/game-of-life-functional/src/HistoryStack.js"],"names":["Node","constructor","value","prev","next","HistoryStack","capacity","size","head","tail","push","_removeFirst","node","last","first","pop","clear"],"mappings":"AAAA,MAAMA,IAAN,CAAW;AACVC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,SAAKA,KAAL,GAAaA,KAAb;AACA,SAAKC,IAAL,GAAY,IAAZ;AACA,SAAKC,IAAL,GAAY,IAAZ;AACA;;AALS;;AAQX,eAAe,MAAMC,YAAN,CAAmB;AACjCJ,EAAAA,WAAW,CAACK,QAAD,EAAW;AACrB,SAAKA,QAAL,GAAgBA,QAAhB;AACA,SAAKC,IAAL,GAAY,CAAZ;AACA,SAAKC,IAAL,GAAY,IAAIR,IAAJ,CAAS,IAAT,CAAZ;AACA,SAAKS,IAAL,GAAY,IAAIT,IAAJ,CAAS,IAAT,CAAZ;AACA,SAAKQ,IAAL,CAAUJ,IAAV,GAAiB,KAAKK,IAAtB;AACA,SAAKA,IAAL,CAAUN,IAAV,GAAiB,KAAKK,IAAtB;AACA;;AAEDE,EAAAA,IAAI,CAACR,KAAD,EAAQ;AACX,QAAI,KAAKK,IAAL,KAAc,KAAKD,QAAvB,EAAiC;AAChC,WAAKK,YAAL;AACA;;AACD,QAAIC,IAAI,GAAG,IAAIZ,IAAJ,CAASE,KAAT,CAAX;AACA,QAAIW,IAAI,GAAG,KAAKJ,IAAL,CAAUN,IAArB;AACAU,IAAAA,IAAI,CAACT,IAAL,GAAYQ,IAAZ;AACAA,IAAAA,IAAI,CAACT,IAAL,GAAYU,IAAZ;AACAD,IAAAA,IAAI,CAACR,IAAL,GAAY,KAAKK,IAAjB;AACA,SAAKA,IAAL,CAAUN,IAAV,GAAiBS,IAAjB;AACA,SAAKL,IAAL,IAAa,CAAb;AACA;;AAEDI,EAAAA,YAAY,GAAG;AACd,QAAIG,KAAK,GAAG,KAAKN,IAAL,CAAUJ,IAAtB;AACA,SAAKI,IAAL,CAAUJ,IAAV,GAAiBU,KAAK,CAACV,IAAvB;AACAU,IAAAA,KAAK,CAACV,IAAN,CAAWD,IAAX,GAAkB,KAAKK,IAAvB;AACAM,IAAAA,KAAK,GAAG,IAAR;AACA,SAAKP,IAAL,IAAa,CAAb;AACA;;AAEDQ,EAAAA,GAAG,GAAG;AACL,QAAI,KAAKR,IAAL,GAAY,CAAhB,EAAmB;AAClB,UAAIM,IAAI,GAAG,KAAKJ,IAAL,CAAUN,IAArB;AACA,WAAKM,IAAL,CAAUN,IAAV,GAAiBU,IAAI,CAACV,IAAtB;AACAU,MAAAA,IAAI,CAACV,IAAL,CAAUC,IAAV,GAAiB,KAAKK,IAAtB;AACA,WAAKF,IAAL,IAAa,CAAb;AACA,aAAOM,IAAI,CAACX,KAAZ;AACA;;AACD,WAAO,IAAP;AACA;;AAEDc,EAAAA,KAAK,GAAG;AACP,SAAKR,IAAL,CAAUJ,IAAV,GAAiB,KAAKK,IAAtB;AACA,SAAKA,IAAL,CAAUN,IAAV,GAAiB,KAAKK,IAAtB;AACA,SAAKD,IAAL,GAAY,CAAZ;AACA;;AA9CgC","sourcesContent":["class Node {\n\tconstructor(value) {\n\t\tthis.value = value;\n\t\tthis.prev = null;\n\t\tthis.next = null;\n\t}\n}\n\nexport default class HistoryStack {\n\tconstructor(capacity) {\n\t\tthis.capacity = capacity;\n\t\tthis.size = 0;\n\t\tthis.head = new Node(null);\n\t\tthis.tail = new Node(null);\n\t\tthis.head.next = this.tail;\n\t\tthis.tail.prev = this.head;\n\t}\n\n\tpush(value) {\n\t\tif (this.size === this.capacity) {\n\t\t\tthis._removeFirst();\n\t\t}\n\t\tlet node = new Node(value);\n\t\tlet last = this.tail.prev;\n\t\tlast.next = node;\n\t\tnode.prev = last;\n\t\tnode.next = this.tail;\n\t\tthis.tail.prev = node;\n\t\tthis.size += 1;\n\t}\n\n\t_removeFirst() {\n\t\tlet first = this.head.next;\n\t\tthis.head.next = first.next;\n\t\tfirst.next.prev = this.head;\n\t\tfirst = null;\n\t\tthis.size -= 1;\n\t}\n\n\tpop() {\n\t\tif (this.size > 0) {\n\t\t\tlet last = this.tail.prev;\n\t\t\tthis.tail.prev = last.prev;\n\t\t\tlast.prev.next = this.tail;\n\t\t\tthis.size -= 1;\n\t\t\treturn last.value;\n\t\t}\n\t\treturn null;\n\t}\n\n\tclear() {\n\t\tthis.head.next = this.tail;\n\t\tthis.tail.prev = this.head;\n\t\tthis.size = 0;\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}